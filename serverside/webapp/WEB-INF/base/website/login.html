<main id="content " role="main">
  <div class="container space-top-3 space-bottom-lg-2">
    <div class="row no-gutters">
      <div class="col-md-8 col-lg-7 col-xl-6 offset-md-2 offset-lg-2 offset-xl-3 space-2">
		  
		  	#if($user)
				<div class="text-warning rounded border border-warning px-2 py-1 mb-3" role="alert">
				<i class="fs-small fas fa-exclamation-triangle"></i>
					[[You are already logged in as]] <strong>$user</strong>
				</div>
			#else
		  
		  
		        <form class="js-validate"  action="$home$content.loginroot/login.html" method="POST" onsubmit="return confirmPassword(this);">
		          <div class="mb-5 mb-md-7">
		            <h1 class="h2">Welcome back to eMedia Library</h1>
		            <p>[[Login to manage your account]].</p>
		          </div>
		          <div class="js-form-message form-group">
		            <label class="input-label text-white" for="signinSrEmail">[[Email or Username]]</label>
		            <input type="text" class="form-control" name="accountname" id="signinSrEmail" placeholder="[[Email or Username]]"
		              aria-label="[[Email or Username]]" required data-msg="[[Please enter a valid username or Email address]].">
		          </div>
		          <div class="form-group">
		            <div class="custom-control custom-checkbox d-flex align-items-center text-muted">
		              <input type="checkbox" class="custom-control-input" id="noPass">
		              <label class="custom-control-label" for="noPass">
		                <small>
		                  Login without password
		                </small>
		              </label>
		            </div>
		          </div>
		          <div class="js-form-message form-group">
		            <label class="input-label text-white" for="signinSrPassword">[[Password]]</label>
		            <input type="password" class="form-control" name="password" id="signinSrPassword" placeholder="********"
		              aria-label="********" required data-msg="[[Your password is invalid. Please try again.]]">
		          </div>
		          <div class="row align-items-center mb-5">
		            <div class="col-sm-6 mb-3 mb-sm-0">
		              <button type="submit" class="btn btn-sm btn-primary transition-3d-hover">[[Log In]]</button>
		            </div>
		            <div class="col-sm-6 text-sm-right">
		              <span class="font-size-1 text-muted">[[Don't have an account?]]</span>
		              <a class="font-size-1 font-weight-bold" href="$applink/signup.html">[[Sign Up]]</a>
		            </div>
		          </div>
		        </form>
		        $home$content.loginroot/oauth/providers.html
		        
		        #if( !$providers.isEmpty() )
			        <div class="text-center mb-3">
			          <span class="divider divider-xs divider-text">[[OR]]</span>
			        </div>
			        
			        
			        <div class="d-flex flex-column">
						
					  $pages.include("$home$content.loginroot/oauth/providers.html", $context)
						
						
			          ##<a class="btn btn-sm btn-soft-secondary btn-block mb-2" href="#">
			          ##  <span class="d-flex justify-content-center align-items-center">
			          ##    <img class="mr-2" src="$applink/assets/images/google.png" alt="Image Description" width="14" height="14">
			          ##    Sign In with Google
			          ##  </span>
			          ##</a>
			          
			        </div>
		        #end
		     #end
      </div>
    </div>
  </div>
</main>

<script>
  $(document).ready(function() {
    $('#noPass').change(function() {
      if (this.checked) {
        $('#signinSrPassword').prop('disabled', true);
        // $('#signinSrPassword').prop('required', false);
        $('#signinSrPassword').parent().hide();
      } else {
        $('#signinSrPassword').prop('disabled', false);
        // $('#signinSrPassword').prop('required', true);
        $('#signinSrPassword').parent().show();
      }
    });
  });
</script>
